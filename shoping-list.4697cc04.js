function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequire826c;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequire826c=r),r.register("kyEFX",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var i={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},r=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("kyEFX").register(JSON.parse('{"hdJAh":"shoping-list.4697cc04.js","jSvKf":"save.c6b0b34f.png","hOrZj":"save@2x.66dc8469.png","4TSHR":"hope.921312dc.png","3mmzf":"hope@2x.fb297886.png","fUOfh":"united.e86cdeff.png","89bvP":"united@2x.85063aae.png","ay8DB":"international.56319efc.png","173iw":"international@2x.ce1c2979.png","eyFbi":"medecins.dd4e27ed.png","9Ucc9":"medecins@2x.77313357.png","afm35":"razom.fd753e6b.png","l9gKZ":"razom@2x.2714546e.png","cAPUs":"action.4ac2c764.png","6fKkG":"action@2x.6bd90b1d.png","7OPCA":"world.837a7540.png","gAHLi":"world@2x.cd474c62.png","bJr8b":"prytula.4a1116fc.png","h5Y7E":"prytula@2x.cfd3a1fe.png"}'));document.querySelector('[data-page="home-list"]'),document.querySelector('[data-page="shpng-list"]');const i=document.querySelectorAll(".js-link");console.dir(i),i.forEach((e=>{e.href===e.baseURI?(e.style.backgroundColor="#EAC645",e.style.color="#111111"):(e.style.backgroundColor="transparent",e.style.color="#FFFFFF")})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".js-mobile-menu-toggle"),t=document.querySelector(".js-close-menu");e.addEventListener("click",(function(){t.classList.toggle("show")})),t.addEventListener("click",(function(){t.classList.remove("show")})),e.addEventListener("click",(function(){e.classList.add("hidden"),t.classList.remove("hidden")})),t.addEventListener("click",(function(){t.classList.add("hidden"),e.classList.remove("hidden")}))})),(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),o=()=>{t.getAttribute("aria-expanded");e.classList.toggle("is-open")};t.addEventListener("click",o),n.addEventListener("click",o),window.matchMedia("(min-width: 768px)").addEventListener("change",(n=>{n.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))}))})();const a=document.querySelector('.theme-switch input[type="checkbox"]'),l=localStorage.getItem("theme"),s="light",c="dark";l&&(document.documentElement.setAttribute("data-theme",l),l===c&&(a.checked=!0)),a.addEventListener("change",(function(e){e.target.checked?(document.documentElement.setAttribute("data-theme",c),localStorage.setItem("theme",c)):(document.documentElement.setAttribute("data-theme",s),localStorage.setItem("theme",s))}),!1);var d;d=new URL(r("kyEFX").resolve("jSvKf"),import.meta.url).toString();var p;p=new URL(r("kyEFX").resolve("hOrZj"),import.meta.url).toString();var m;m=new URL(r("kyEFX").resolve("4TSHR"),import.meta.url).toString();var u;u=new URL(r("kyEFX").resolve("3mmzf"),import.meta.url).toString();var g;g=new URL(r("kyEFX").resolve("fUOfh"),import.meta.url).toString();var h;h=new URL(r("kyEFX").resolve("89bvP"),import.meta.url).toString();var v;v=new URL(r("kyEFX").resolve("ay8DB"),import.meta.url).toString();var w;w=new URL(r("kyEFX").resolve("173iw"),import.meta.url).toString();var b;b=new URL(r("kyEFX").resolve("eyFbi"),import.meta.url).toString();var f;f=new URL(r("kyEFX").resolve("9Ucc9"),import.meta.url).toString();var k;k=new URL(r("kyEFX").resolve("afm35"),import.meta.url).toString();var E;E=new URL(r("kyEFX").resolve("l9gKZ"),import.meta.url).toString();var S;S=new URL(r("kyEFX").resolve("cAPUs"),import.meta.url).toString();var y;y=new URL(r("kyEFX").resolve("6fKkG"),import.meta.url).toString();var L;L=new URL(r("kyEFX").resolve("7OPCA"),import.meta.url).toString();var R;R=new URL(r("kyEFX").resolve("gAHLi"),import.meta.url).toString();var H;H=new URL(r("kyEFX").resolve("bJr8b"),import.meta.url).toString();var F;F=new URL(r("kyEFX").resolve("h5Y7E"),import.meta.url).toString();const _=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:{regular:new URL(d),retina:new URL(p)}},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:{regular:new URL(m),retina:new URL(u)}},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:{regular:new URL(g),retina:new URL(h)}},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:{regular:new URL(v),retina:new URL(w)}},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:{regular:new URL(b),retina:new URL(f)}},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:{regular:new URL(k),retina:new URL(E)}},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:{regular:new URL(S),retina:new URL(y)}},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:{regular:new URL(L),retina:new URL(R)}},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:{regular:new URL(H),retina:new URL(F)}}],U=document.querySelector("ul.list__support"),x=document.querySelector(".swiper-up-btn"),A=document.querySelector(".swiper-down-btn");function j(){U.firstElementChild.offsetHeight;const e=U.offsetHeight;0===U.scrollTop?x.style.display="none":x.style.display="block",U.scrollTop+e>=U.scrollHeight?A.style.display="none":A.style.display="block"}x.addEventListener("click",(()=>{const e=U.firstElementChild.offsetHeight;U.scrollTo({top:U.scrollTop-e,behavior:"smooth"})})),A.addEventListener("click",(()=>{const e=U.firstElementChild.offsetHeight;U.scrollTo({top:U.scrollTop+e,behavior:"smooth"})})),U.addEventListener("scroll",j),_.forEach((e=>{const t=document.createElement("li"),n=document.createElement("a"),o=document.createElement("img");n.href=e.url,n.target="_blank",n.rel="noopener noreferrer",o.src=e.img.regular,o.alt=e.title,n.appendChild(o),t.appendChild(n),U.appendChild(t)})),j();const O=JSON.parse(localStorage.getItem("localShoppingList"))||[],T=document.querySelector(".book-list");O.length>0?T.innerHTML=O.map((({book_image:e,title:t,list_name:n,description:o,author:r,buy_links:i})=>{const a=[0,1,3];return`\n        <div class="book-card">\n          <div class="book-img">\n            <img src="${e||"./images/img-2.jpg"}"\n              class="book-cover" alt="${t}"/>\n          </div>\n          <div class="book-text">\n            <h2 class="book-title">${t}</h2>\n            <h3 class="book-category">${n}</h3>\n            <p class="book-description">${o||"Sorry no description"}</p>\n            <p class="book-author">${r}</p>\n          </div>\n            <button class="remove-book">Удалить из Shopping list</button>\n          <ul class="book-links>\n            ${i.filter(((e,t)=>a.includes(t))).map((({name:e,url:t})=>`<li class="link-image"><a href=${t} target="_blank">${e}</a></li>`)).join("")}\n          </ul>\n        </div>\n        `})).join(""):T.innerHTML='\n    <div>\n       <p>This page is empty, add some books and proceed to order.</p>\n       <img src="/images/1.png" />\n     </div>';document.querySelectorAll(".remove-book").forEach(((e,t)=>{e.addEventListener("click",(()=>{O.splice(t,1),localStorage.setItem("localShoppingList",JSON.stringify(O)),e.parentElement.remove()}))})),async function(e){const t=`https://books-backend.p.goit.global/books/${e}`,n=await fetch(t);if(console.log(n),!n.ok)throw new Error(n.statusText);return n.json()}("643282b1e85766588626a087").then((e=>{const t=new C;t.create(function({author:e,book_image:t,description:n,title:o,_id:r}){const i=JSON.parse(localStorage.getItem("shoppingList")||"[]").some((e=>e.id===id));return`<div class="modal-container">\n      <img src="${t}" width="287"  height="408" alt="${o}" />\n      <div class="book-details"><h2 class="modal-title">${o}</h2>\n      <p class="author">${e}</p>\n      <p class="description">${n||"We are sorry, we have no description of this book."}</p></div>\n\n  <ul class="platforms">\n  <li>\n    <a href="https://www.amazon.com/Atomic-Habits-Proven-Build-Break/dp/0735211299?tag=NYTBSREV-20" target="_blank" rel="noopener noreferrer nofollow">\n      <img srcset="modal.amazon.png 62w, modal.amazon@2x.png 124w" src="./modal/amazon.png" sizes="(min-width: 1200px) 62px, (min-width: 768px) 62px, (min-width: 480px) 62px, 100vw" alt="Amazon" />\n    </a>\n  </li>\n  <li>\n    <a href="https://goto.applebooks.apple/9780735211292?at=10lIEQ" target="_blank" rel="noopener noreferrer nofollow">\n      <img srcset="modal.book.png 33w, modal.book@2x.png 66w" src="./modal/book.png" sizes="(min-width: 1200px) 33px, (min-width: 768px) 33px, (min-width: 480px) 33px, 100vw" alt="Apple books" />\n    </a>\n  </li>\n  <li>\n    <a href="https://www.anrdoezrs.net/click-7990613-11819508?u…w.barnesandnoble.com%2Fw%2F%3Fean%3D9780735211292" target="_blank" rel="noopener noreferrer nofollow">\n      <img srcset="modal.books.png 38w, modal.books@2x.png 86w" src="./modal/books.png" sizes="(min-width: 1200px) 38px, (min-width: 768px) 38px, (min-width: 480px) 38px, 100vw" alt="Barnes and Noble" />\n    </a>\n  </li>\n</ul>\n \n     <div><button data-id="${r}" data-action="${i?"remove":"add"}" type="button" class="add-to-cart-btn js-close">${i?"REMOVE FROM THE SHOPPING LIST":"ADD TO SHOPPING LIST"}</button></div>\n   </div>`}(e)),t.open();document.querySelector(".add-to-cart-btn").addEventListener("click",(t=>{const n=t.target.dataset.id,o=JSON.parse(localStorage.getItem("localShoppingList"))||[];if("add"===t.target.dataset.action)console.log(o),o.push(e),localStorage.setItem("localShoppingList",JSON.stringify(o));else{const e=o.findIndex((({id:e})=>e===n));o.splice(e,1),localStorage.setItem("localShoppingList",JSON.stringify(o))}}))})).catch((e=>console.log(e)));class C{constructor(){this.visible=!1}create(e){const t=`<div class="overlay js-module-overlay">\n      <div class="modal-wrapper js-close">\n        <div class="modal">          \n          <button type="button" class="modal-close js-close"></button>\n          <div class="modal-content">\n          ${e}\n          </div>\n        </div>\n      </div>\n    </div>`;this.html=t}open(){if(this.visible)return;this.visible=!0;document.querySelector("body").insertAdjacentHTML("afterbegin",this.html),this.close()}close(){const e=document.querySelector(".js-module-overlay");this.cleanerEscape=this.hendlerEscape.bind(this),this.cleanerClick=this.hendlerClick.bind(this),e.addEventListener("click",this.cleanerClick),document.addEventListener("keydown",this.cleanerEscape)}hendlerClick(e){e.target.classList.contains("js-close")&&(e.currentTarget.remove(),this.cleanEvent())}hendlerEscape(e){if("Escape"===e.code){document.querySelector(".js-module-overlay").remove(),this.cleanEvent()}}cleanEvent(){document.removeEventListener("keydown",this.cleanerEscape),this.visible=!1}}
//# sourceMappingURL=shoping-list.4697cc04.js.map
