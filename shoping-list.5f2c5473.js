function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire826c;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire826c=o),o.register("kyEFX",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("kyEFX").register(JSON.parse('{"hdJAh":"shoping-list.5f2c5473.js","jSvKf":"save.c6b0b34f.png","hOrZj":"save@2x.66dc8469.png","4TSHR":"hope.921312dc.png","3mmzf":"hope@2x.fb297886.png","fUOfh":"united.e86cdeff.png","89bvP":"united@2x.85063aae.png","ay8DB":"international.56319efc.png","173iw":"international@2x.ce1c2979.png","eyFbi":"medecins.dd4e27ed.png","9Ucc9":"medecins@2x.77313357.png","afm35":"razom.fd753e6b.png","l9gKZ":"razom@2x.2714546e.png","cAPUs":"action.4ac2c764.png","6fKkG":"action@2x.6bd90b1d.png","7OPCA":"world.837a7540.png","gAHLi":"world@2x.cd474c62.png","bJr8b":"prytula.4a1116fc.png","h5Y7E":"prytula@2x.cfd3a1fe.png"}'));document.querySelector('[data-page="home-list"]'),document.querySelector('[data-page="shpng-list"]'),document.querySelector(".logo");(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),r=()=>{const n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.classList.toggle("is-open");bodyScrollLock[n?"enableBodyScroll":"disableBodyScroll"](document.body)};t.addEventListener("click",r),n.addEventListener("click",r),window.matchMedia("(min-width: 768px)").addEventListener("change",(n=>{n.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))}))})();const i=document.querySelector('.theme-switch input[type="checkbox"]'),a=localStorage.getItem("theme"),l="light",s="dark";a&&(document.documentElement.setAttribute("data-theme",a),a===s&&(i.checked=!0)),i.addEventListener("change",(function(e){e.target.checked?(document.documentElement.setAttribute("data-theme",s),localStorage.setItem("theme",s)):(document.documentElement.setAttribute("data-theme",l),localStorage.setItem("theme",l))}),!1);var c;c=new URL(o("kyEFX").resolve("jSvKf"),import.meta.url).toString();var d;d=new URL(o("kyEFX").resolve("hOrZj"),import.meta.url).toString();var u;u=new URL(o("kyEFX").resolve("4TSHR"),import.meta.url).toString();var m;m=new URL(o("kyEFX").resolve("3mmzf"),import.meta.url).toString();var p;p=new URL(o("kyEFX").resolve("fUOfh"),import.meta.url).toString();var g;g=new URL(o("kyEFX").resolve("89bvP"),import.meta.url).toString();var h;h=new URL(o("kyEFX").resolve("ay8DB"),import.meta.url).toString();var v;v=new URL(o("kyEFX").resolve("173iw"),import.meta.url).toString();var b;b=new URL(o("kyEFX").resolve("eyFbi"),import.meta.url).toString();var f;f=new URL(o("kyEFX").resolve("9Ucc9"),import.meta.url).toString();var S;S=new URL(o("kyEFX").resolve("afm35"),import.meta.url).toString();var y;y=new URL(o("kyEFX").resolve("l9gKZ"),import.meta.url).toString();var w;w=new URL(o("kyEFX").resolve("cAPUs"),import.meta.url).toString();var E;E=new URL(o("kyEFX").resolve("6fKkG"),import.meta.url).toString();var k;k=new URL(o("kyEFX").resolve("7OPCA"),import.meta.url).toString();var L;L=new URL(o("kyEFX").resolve("gAHLi"),import.meta.url).toString();var R;R=new URL(o("kyEFX").resolve("bJr8b"),import.meta.url).toString();var H;H=new URL(o("kyEFX").resolve("h5Y7E"),import.meta.url).toString();const _=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:{regular:new URL(c),retina:new URL(d)}},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:{regular:new URL(u),retina:new URL(m)}},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:{regular:new URL(p),retina:new URL(g)}},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:{regular:new URL(h),retina:new URL(v)}},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:{regular:new URL(b),retina:new URL(f)}},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:{regular:new URL(S),retina:new URL(y)}},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:{regular:new URL(w),retina:new URL(E)}},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:{regular:new URL(k),retina:new URL(L)}},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:{regular:new URL(R),retina:new URL(H)}}],F=document.querySelector("ul.list__support"),U=document.querySelector(".swiper-up-btn"),A=document.querySelector(".swiper-down-btn");function j(){F.firstElementChild.offsetHeight;const e=F.offsetHeight;0===F.scrollTop?U.style.display="none":U.style.display="block",F.scrollTop+e>=F.scrollHeight?A.style.display="none":A.style.display="block"}U.addEventListener("click",(()=>{const e=F.firstElementChild.offsetHeight;F.scrollTo({top:F.scrollTop-e,behavior:"smooth"})})),A.addEventListener("click",(()=>{const e=F.firstElementChild.offsetHeight;F.scrollTo({top:F.scrollTop+e,behavior:"smooth"})})),F.addEventListener("scroll",j),_.forEach((e=>{const t=document.createElement("li"),n=document.createElement("a"),r=document.createElement("img");n.href=e.url,n.target="_blank",n.rel="noopener noreferrer",r.src=e.img.regular,r.alt=e.title,n.appendChild(r),t.appendChild(n),F.appendChild(t)})),j();const O=JSON.parse(localStorage.getItem("loсalShoppingList"))||[],x=document.querySelector(".book-list");O.length>0?x.innerHTML=O.map((({book_image:e,title:t,list_name:n,description:r,author:o,buy_links:i})=>{const a=[0,1,3];return`\n        <div class="book-card">\n            <img src="${e||"./images/img-2.jpg"}"\n              class="book-cover" alt="${t}"/>\n            <h2 class="book-title">${t}</h2>\n            <h3 class="book-category">${n}</h3>\n            <p class="book-description">${r||"Sorry no description"}</p>\n            <p class="book-author">${o}</p>\n            <button class="remove-book">Удалить из Shopping list</button>\n          <ul class="book-links">\n            ${i.filter(((e,t)=>a.includes(t))).map((({name:e,url:t})=>`<li><a href=${t} target="_blank">${e}</a></li>`)).join("")}\n          </ul>\n        </div>`})).join(""):x.innerHTML='\n    <div>\n       <p>This page is empty, add some books and proceed to order.</p>\n       <img src="/images/img_1.jpg" />\n     </div>';document.querySelectorAll(".remove-book").forEach(((e,t)=>{e.addEventListener("click",(()=>{O.splice(t,1),localStorage.setItem("local",JSON.stringify(O)),e.parentElement.remove()}))})),async function(e){const t=`https://books-backend.p.goit.global/books/${e}`,n=await fetch(t);if(!n.ok)throw new Error(n.statusText);return n.json()}("643282b1e85766588626a087").then((e=>{const t=new T;t.create(function({author:e,book_image:t,description:n,title:r,_id:o}){const i=JSON.parse(localStorage.getItem("shoppingList")||"[]").some((e=>e._id===o));return`<div class="modal-container">\n      <img src="${t}" width="192"  height="281" alt="${r}" />\n      <h2>${r}</h2>\n      <p>${e}</p>\n      <span>${n||"We are sorry, we have no description of this book."}</span>\n      \n      <button data-id="${o}" data-action="${i?"remove":"add"}" type="button" class="add-to-cart-btn js-close">${i?"REMOVE FROM THE SHOPPING LIST":"ADD TO SHOPPING LIST"}</button>\n  </div>`}(e)),t.open();document.querySelector(".add-to-cart-btn").addEventListener("click",(t=>{const n=t.target.dataset.id,r=JSON.parse(localStorage.getItem("localShoppingList"))||[];if("add"===t.target.dataset.action)console.log(r),r.push(e),localStorage.setItem("localShoppingList",JSON.stringify(r));else{const e=r.findIndex((({id:e})=>e===n));r.splice(e,1),localStorage.setItem("localShoppingList",JSON.stringify(r))}}))})).catch((e=>console.log(e)));class T{constructor(){this.visible=!1}create(e){const t=`<div class="overlay js-module-overlay">\n      <div class="modal-wrapper js-close">\n        <div class="modal">          \n          <button type="button" class="modal-close js-close"></button>\n          <div class="modal-content">\n          ${e}\n          </div>\n        </div>\n      </div>\n    </div>`;this.html=t}open(){if(this.visible)return;this.visible=!0;document.querySelector("body").insertAdjacentHTML("afterbegin",this.html),this.close()}close(){const e=document.querySelector(".js-module-overlay");this.cleanerEscape=this.hendlerEscape.bind(this),this.cleanerClick=this.hendlerClick.bind(this),e.addEventListener("click",this.cleanerClick),document.addEventListener("keydown",this.cleanerEscape)}hendlerClick(e){e.target.classList.contains("js-close")&&(e.currentTarget.remove(),this.cleanEvent())}hendlerEscape(e){if("Escape"===e.code){document.querySelector(".js-module-overlay").remove(),this.cleanEvent()}}cleanEvent(){document.removeEventListener("keydown",this.cleanerEscape),this.visible=!1}}
//# sourceMappingURL=shoping-list.5f2c5473.js.map
