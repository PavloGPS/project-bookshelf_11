{"mappings":"iiBAAAA,EAAA,S,uDCAA,IAAAC,EAAAD,EAAA,SAEME,EACJC,KAAKC,MAAMC,aAAaC,QAAQ,uBAAyB,GAErDC,EAAaC,SAASC,cAAc,cACtCP,EAAaQ,OAAS,EACxBH,EAAWI,UAAYT,EACpBU,KAAI,SAAAC,G,IAAGC,EAAUD,EAAVC,WAAYC,EAAKF,EAALE,MAAOC,EAASH,EAATG,UAAWC,EAAWJ,EAAXI,YAAaC,EAAML,EAANK,OAAQC,EAASN,EAATM,UACnDC,EAAc,CAAC,EAAG,EAAG,GACrBC,EAAWF,EAAUG,QAAO,SAACC,EAAMC,G,OACvCJ,EAAYK,SAASD,E,IAEvB,MAAO,0EAOGE,OAHRZ,GAEI,kIACL,WAI8BY,OAJrBX,EAAM,mIAKkBW,OADHX,EAAM,iDAMjCW,OAL8BV,EAAU,6FAWdU,OAN1BT,GAEI,0DACL,0FAKGS,OAFwBR,EAAO,wDAOnBQ,OALZL,EACGT,KACC,SAAAe,G,IAAGC,EAAID,EAAJC,KAAMC,EAAGF,EAAHE,I,MACP,eAAsCH,OAAvBG,EAAI,qBAAwBH,OAALE,EAAK,Y,IAE9CE,KAAK,IAAI,yQ,IAanBA,KAAK,IAERvB,EAAWI,UAAa,+NAWAH,SAASuB,iBAAiB,eAElCC,SAAQ,SAACC,EAAQT,GACjCS,EAAOC,iBAAiB,SAAS,WAC/BhC,EAAaiC,OAAOX,EAAO,GAC3BnB,aAAa+B,QAAQ,oBAAqBjC,KAAKkC,UAAUnC,IACzD+B,EAAOK,cAAcC,SACrBC,OAAOC,OAAOC,YAAY,UAAW,I,OAIzCF,OAAON,iBAAiB,WAAW,SAAAS,GACd,YAAfA,EAAMC,MACRC,EAAA5C,GAAS6C,OAAOC,KACd,0EACA,CAAEC,SAAU,iB","sources":["src/shoping-list.js","src/js/shoping-list-render.js"],"sourcesContent":["import './js/header';\nimport './js/burger-menu';\nimport './js/theme-toggle';\nimport './js/user-bar';\nimport './js/support';\nimport './js/swiper';\nimport './js/shoping-list-render';\nimport './js/loader';\nimport './js/modal_window';","import Notiflix from \"notiflix\";\n\nconst shoppingList =\n  JSON.parse(localStorage.getItem('localShoppingList')) || [];\n\nconst bookListEl = document.querySelector('.book-list');\nif (shoppingList.length > 0) {\n  bookListEl.innerHTML = shoppingList\n    .map(({ book_image, title, list_name, description, author, buy_links }) => {\n      const linksToShow = [0, 1, 4];\n      const buyLinks = buy_links.filter((link, index) =>\n        linksToShow.includes(index)\n      );\n      return `\n  <ul>\n    <li class=\"book-card\">\n      <img class=\"book-img\" src=\"${\n        book_image\n          ? book_image\n          : 'https://kartinki.pibig.info/uploads/posts/2023-04/thumbs/1681549841_kartinki-pibig-info-p-zaglushka-kartinka-arti-krasivo-4.jpg'\n      }\" alt=\"${title}\"/>\n      <div class=\"book-inform\">\n        <div class=\"titlle-basket\">\n          <div>\n            <h3 class=\"book-title\">${title}</h3>\n            <h4 class=\"book-category\">${list_name}</h4>\n          </div>\n          \n        </div>\n        <p class=\"book-description\">${\n          description\n            ? description\n            : 'Sorry, there is currently no description for this book.'\n        }\n        </p>\n        <div class=\"author-shops\">\n          <h4 class=\"book-author\">${author}</h4>\n          <ul class=\"book-shops\">\n          ${buyLinks\n              .map(\n                ({ name, url }) =>\n                  `<li><a href=${url} target=\"_blank\">${name}</a></li>`\n              )\n              .join('')}\n          </ul>\n        </div> \n      </div>\n      <button class=\"basket-btn\">\n        <svg class=\"basket-img\" width=\"14px\" height=\"14px\">\n        <use href=\"./images/sprite.svg#basket\"></use>\n        </svg>\n      </button>\n    </li>\n  </ul>\n        `;\n    })\n    .join('');\n} else {\n  bookListEl.innerHTML = `\n    <div class=\"book-empty-list\">\n    <p class=\"book-empty-description\">\n      This page is empty, add some books and proceed to order.\n    </p>\n    <div class=\"book-empty-img\"></div>\n    </div>\n    </div>\n     `;\n}\n\nconst removeBookButtons = document.querySelectorAll('.basket-btn');\n\nremoveBookButtons.forEach((button, index) => {\n  button.addEventListener('click', () => {\n    shoppingList.splice(index, 1);\n    localStorage.setItem('localShoppingList', JSON.stringify(shoppingList));\n    button.parentElement.remove();\n    window.parent.postMessage('success', '*');\n  });\n});\n\nwindow.addEventListener('message', event => {\n  if (event.data === 'success') {\n    Notiflix.Notify.info(\n      'The selected book has been successfully removed from the shopping list.',\n      { position: 'center-center' }\n    );\n  }\n});\n\n\n"],"names":["parcelRequire","$6JpON","$3e7fd1ae81f1b231$var$shoppingList","JSON","parse","localStorage","getItem","$3e7fd1ae81f1b231$var$bookListEl","document","querySelector","length","innerHTML","map","param1","book_image","title","list_name","description","author","buy_links","linksToShow","buyLinks","filter","link","index","includes","concat","param","name","url","join","querySelectorAll","forEach","button","addEventListener","splice","setItem","stringify","parentElement","remove","window","parent","postMessage","event","data","$parcel$interopDefault","Notify","info","position"],"version":3,"file":"shoping-list.2df8850e.js.map"}