{"mappings":"gfAAAA,EAAA,S,uDCAA,IAAMC,EACJC,KAAKC,MAAMC,aAAaC,QAAQ,uBAAyB,GAErDC,EAAaC,SAASC,cAAc,cACtCP,EAAaQ,OAAS,EACxBH,EAAWI,UAAYT,EACpBU,KAAI,SAAAC,G,IAAGC,EAAUD,EAAVC,WAAYC,EAAKF,EAALE,MAAOC,EAASH,EAATG,UAAWC,EAAWJ,EAAXI,YAAaC,EAAML,EAANK,OAAQC,EAASN,EAATM,UACnDC,EAAc,CAAC,EAAG,EAAG,GACrBC,EAAWF,EAAUG,QAAO,SAACC,EAAMC,G,OACvCJ,EAAYK,SAASD,E,IAEvB,MAAO,8FAI2BE,OADhBZ,GAA0B,qBAAqB,6CAIlCY,OAHGX,EAAM,iGAINW,OADHX,EAAM,iDAG7BW,OAF0BV,EAAU,mDAIbU,OAFvBT,GAA4B,uBAC7B,6CAKCS,OAJuBR,EAAO,qJASpBQ,OALVL,EACCT,KACC,SAAAe,G,IAAGC,EAAID,EAAJC,KAAMC,EAAGF,EAAHE,I,MACP,kCAAyDH,OAAvBG,EAAI,qBAAwBH,OAALE,EAAK,Y,IAEjEE,KAAK,IAAI,8C,IAKnBA,KAAK,IAERvB,EAAWI,UAAa,uIAOAH,SAASuB,iBAAiB,gBAElCC,SAAQ,SAACC,EAAQT,GACjCS,EAAOC,iBAAiB,SAAS,WAC/BhC,EAAaiC,OAAOX,EAAO,GAC3BnB,aAAa+B,QAAQ,oBAAqBjC,KAAKkC,UAAUnC,IACzD+B,EAAOK,cAAcC,Q","sources":["src/shoping-list.js","src/js/shoping-list-render.js"],"sourcesContent":["import './js/header';\nimport './js/burger-menu';\nimport './js/theme-toggle';\nimport './js/user-bar';\nimport './js/support';\nimport './js/swiper';\nimport './js/shoping-list-render';\nimport './js/loader';\nimport './js/modal_window';","const shoppingList =\n  JSON.parse(localStorage.getItem('localShoppingList')) || [];\n\nconst bookListEl = document.querySelector('.book-list');\nif (shoppingList.length > 0) {\n  bookListEl.innerHTML = shoppingList\n    .map(({ book_image, title, list_name, description, author, buy_links }) => {\n      const linksToShow = [0, 1, 3];\n      const buyLinks = buy_links.filter((link, index) =>\n        linksToShow.includes(index)\n      );\n      return `\n        <div class=\"book-card\">\n          <div class=\"book-img\">\n            <img src=\"${book_image ? book_image : './images/img-2.jpg'}\"\n              class=\"book-cover\" alt=\"${title}\"/>\n          </div>\n          <div class=\"book-text\">\n            <h2 class=\"book-title\">${title}</h2>\n            <h3 class=\"book-category\">${list_name}</h3>\n            <p class=\"book-description\">${\n              description ? description : 'Sorry no description'\n            }</p>\n            <p class=\"book-author\">${author}</p>\n          </div>\n            <button class=\"remove-book\">Удалить из Shopping list</button>\n          <ul class=\"book-links>\n            ${buyLinks\n              .map(\n                ({ name, url }) =>\n                  `<li class=\"link-image\"><a href=${url} target=\"_blank\">${name}</a></li>`\n              )\n              .join('')}\n          </ul>\n        </div>\n        `;\n    })\n    .join('');\n} else {\n  bookListEl.innerHTML = `\n    <div>\n       <p>This page is empty, add some books and proceed to order.</p>\n       <img src=\"/images/1.png\" />\n     </div>`;\n}\n\nconst removeBookButtons = document.querySelectorAll('.remove-book');\n\nremoveBookButtons.forEach((button, index) => {\n  button.addEventListener('click', () => {\n    shoppingList.splice(index, 1);\n    localStorage.setItem('localShoppingList', JSON.stringify(shoppingList));\n    button.parentElement.remove();\n  });\n});"],"names":["parcelRequire","$3e7fd1ae81f1b231$var$shoppingList","JSON","parse","localStorage","getItem","$3e7fd1ae81f1b231$var$bookListEl","document","querySelector","length","innerHTML","map","param1","book_image","title","list_name","description","author","buy_links","linksToShow","buyLinks","filter","link","index","includes","concat","param","name","url","join","querySelectorAll","forEach","button","addEventListener","splice","setItem","stringify","parentElement","remove"],"version":3,"file":"shoping-list.3b1cf5ad.js.map"}